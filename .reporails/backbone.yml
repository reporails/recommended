version: 3
generator: manual

depends_on:
  rules:
    schemas: [rule]
    levels: true

rules:
  core: core/
  agents: agents/
  patterns:
    rule_dir: "{category}/{slug}/"
    definition: "rule.md"
    opengrep: "rule.yml"
    test_pass: "tests/pass/"
    test_fail: "tests/fail/"
  categories:
    structure: core/structure/
    content: core/content/
    efficiency: core/efficiency/
    governance: core/governance/
    maintenance: core/maintenance/
  agent_rules:
    claude: agents/claude/rules/

agents:
  claude:
    config: agents/claude/config.yml

registry:
  coordinate_map: registry/coordinate-map.yml
  tombstones: registry/tombstones.yml

meta:
  version_file: VERSION

docs:
  sources: docs/sources.yml

artifacts:
  levels: levels.yml
  sources: docs/sources.yml
  changelog: UNRELEASED.md
